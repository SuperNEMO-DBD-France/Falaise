digraph FLTagsConfRes1 {
	node [shape=box]
	subgraph cluster_confres {
		label="Configuration resources"
		fontname="bold";
		labeljust="left";
		subgraph cluster_expsetup {
			label="Description of the experiment";
			labeljust="left";
			fontname="bold";
			color="blue";
			tag00 [label="experiment"];
			tag0 [label="geometry"];
			tag1 [label="devices"];
			tag2 [label="experimental setup";
			      style="filled";
			      fillcolor="lightblue"];
			// Edges:
			tag0 -> tag00 [label=" dependency ", fontsize=8];
			tag1 -> tag00 [label=" dependency ", fontsize=8];
			tag2 -> tag0 [label=" dependency ", fontsize=8];
			tag2 -> tag1 [label=" dependency ", fontsize=8];
		}

		tag3 [label="vertex generation"];
		tag4 [label="decay generation"];
		tag7 [label="Geant4 session"];
		tag5 [label="simulation setup"];
		tag50 [label="reconstruction setup"];
		tag60 [label="pipeline"];
		// Edges:
		tag5 -> tag2 [label=" dependency ", fontsize=8, color="blue"];
		tag5 -> tag3 [label=" dependency ", fontsize=8];
		tag5 -> tag4 [label=" dependency ", fontsize=8];
		tag5 -> tag7 [label=" dependency ", fontsize=8];
		tag50 -> tag2 [label=" dependency ", fontsize=8, color="blue"];
		tag50 -> tag60 [label=" dependency ", fontsize=8, color="blue"];
	}

	subgraph cluster_pipeline {
		rankdir="LR";
		label="Pipeline";
		labeljust="left";
		fontname="bold";
		tag6 [label="FLSimulate"];
		// subgraph cluster_simdata {
		// 	label="Simulation output";
		// 	labeljust="left";
		// 	fontname="bold";
			tag100 [shape="note", label="Monte Carlo data\n+metadata"];
		// 	tag200 [shape="note", label="Monte Carlo metadata"];
		// 	tag100 -> tag200 [label=" context ", fontsize=8];
		// }
		tag16 [label="FLReconstruct"];
		// subgraph cluster_simdata {
		// 	label="Reconstruction output";
		// 	labeljust="left";
		// 	fontname="bold";
			tag101 [shape="note", label="Reconstructed data\n+metadata"];
		// 	tag201 [shape="note", label="Reconstructed metadata"];
		// 	tag101 -> tag201 [label=" context ", fontsize=8];
		// }
		{rank="same"; tag6, tag100, tag16, tag101 }
		// Edges:
		tag6 -> tag100 [label=" output ", fontsize=8];
		tag100 -> tag16 [label=" input ", fontsize=8];
		tag16 -> tag101 [label=" output ", fontsize=8];
	}
	tag6 -> tag5 [label=" use ", fontsize=8];
	tag16 -> tag50 [label=" use ", fontsize=8];
	tag100 -> tag5 [label=" context ", fontsize=8, color="blue"];
	tag101 -> tag50 [label=" context ", fontsize=8, color="blue"];
}